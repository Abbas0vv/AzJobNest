@model LoginViewModel
@{
	ViewData["Title"] = "Login";
}

<main style="min-height: 75vh;">
	<div class="container">
		<div class="row justify-content-center align-items-center" style="min-height: 75vh;">
			<!-- Form -->
			<div class="col-12 col-md-5 shadow p-4 bg-white rounded mx-3 my-3">

				<div class="animated-icons">
					<i class="fab fa-github"></i>
					<i class="fab fa-js"></i>
					<i class="fab fa-html5"></i>
					<i class="fab fa-css3-alt"></i>
					<i class="fab fa-react"></i>
					<i class="fab fa-node-js"></i>
					<i class="fab fa-python"></i>
				</div>

				<h2 class="mb-4 text-center">Login</h2>
				<form method="post">
					<div asp-validation-summary="All" class="text-danger mb-3"></div>

					<div class="mb-3">
						<label asp-for="@Model.Email" class="form-label"></label>
						<input asp-for="@Model.Email" class="form-control" />
						<span asp-validation-for="@Model.Email" class="text-danger"></span>
					</div>

					<div class="mb-3 position-relative">
						<label asp-for="@Model.Password" class="form-label"></label>
						<input asp-for="@Model.Password" class="form-control pe-5" type="password" id="passwordInput" />
						<span asp-validation-for="@Model.Password" class="text-danger"></span>

						<!-- Show Password Toggle inside input -->
						<button type="button"
								class="btn btn-sm border-0 text-secondary position-absolute"
								style="top: 72%; right: 10px; transform: translateY(-50%); background-color: transparent;"
								onclick="togglePassword()" tabindex="-1">
							<i class="fas fa-eye" id="toggleIcon"></i>
						</button>
					</div>

					<div class="mb-3 form-check">
						<input asp-for="@Model.RememberMe" class="form-check-input" />
						<label asp-for="@Model.RememberMe" class="form-check-label"></label>
					</div>

					<button type="submit" class="btn btn-primary w-100">Sign In</button>
				</form>
			</div>

			<!-- Right side: Animation -->
			<div class="col-12 col-md-6 mx-3 my-3">
				<div class="p-4 bg-light rounded h-100 d-flex flex-column justify-content-center align-items-center text-center border">
					<h3 class="mb-3">Welcome back!</h3>
					<p>Sign in and continue your activities.</p>

					<!-- Appropriate Lottie animation for login -->
					<lottie-player src="https://assets10.lottiefiles.com/packages/lf20_touohxv0.json"
								   background="transparent"
								   speed="1"
								   style="width: 280px; height: 200px;"
								   loop
								   autoplay>
					</lottie-player>
				</div>
			</div>
		</div>
	</div>
</main>

<script>
	function togglePassword() {
		const passwordInput = document.getElementById('passwordInput');
		const toggleIcon = document.getElementById('toggleIcon');

		if (passwordInput.type === 'password') {
			passwordInput.type = 'text';
			toggleIcon.classList.remove('fa-eye');
			toggleIcon.classList.add('fa-eye-slash');
		} 
		else {
			passwordInput.type = 'password';
			toggleIcon.classList.remove('fa-eye-slash');
			toggleIcon.classList.add('fa-eye');
		}
	}
</script>
 